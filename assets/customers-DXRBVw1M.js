import{l as x,$ as f,r as t,a0 as h,V as j,j as s,B as g,S as H}from"./index-BBhJg91b.js";import{A as b}from"./AdminSidebar-YKCcNd0v.js";import{T as A}from"./TableHOC-Cdp4oIjA.js";import{r as E}from"./feautures-Cdn5fYWJ.js";import"./index-BksrHr4J.js";const R=[{Header:"Avatar",accessor:"avatar"},{Header:"Name",accessor:"name"},{Header:"Gender",accessor:"gender"},{Header:"Email",accessor:"email"},{Header:"Role",accessor:"role"},{Header:"Action",accessor:"action"}],w=()=>{const{user:a}=x(e=>e.userReducer),{isLoading:n,data:r,isError:c,error:d}=f(a==null?void 0:a._id),[o,i]=t.useState([]),[l]=h(),m=async e=>{const p=await l({userId:e,adminUserId:a==null?void 0:a._id});E(p,null,"")};if(c){const e=d;j.error(e.data.message)}t.useEffect(()=>{r&&i(r.users.map(e=>({avatar:s.jsx("img",{style:{borderRadius:"50%"},src:e.photo,alt:"userPhoto"}),name:e.name,email:e.email,gender:e.gender??"Not specified",role:e.role,action:s.jsx("button",{onClick:()=>m(e._id),children:s.jsx(g,{})})})))},[r]);const u=A(R,o,"dashboard-product-box","Customers",o.length>6)();return s.jsxs("div",{className:"admin-container",children:[s.jsx(b,{}),s.jsx("main",{children:n?s.jsx(H,{length:21}):u})]})};export{w as default};
