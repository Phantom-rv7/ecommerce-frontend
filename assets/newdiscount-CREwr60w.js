import{l as p,u as x,r as n,j as e,C as h,V as j}from"./index-BBhJg91b.js";import{a as b}from"./index-xsH4HHeE.js";import{A as v}from"./AdminSidebar-YKCcNd0v.js";import"./index-BksrHr4J.js";const N=()=>{const{user:s}=p(t=>t.userReducer),d=x(),[u,r]=n.useState(!1),[o,i]=n.useState(""),[c,l]=n.useState(0),m=async t=>{t.preventDefault(),r(!0);try{const{data:a}=await b.post(`${h}/api/v1/payment/coupon/new?id=${s==null?void 0:s._id}`,{code:o,amount:c},{headers:{"Content-Type":"application/json"},withCredentials:!0});a.success&&(l(0),i(""),j.success(a.message),d("/admin/discount"))}catch{}finally{r(!1)}};return e.jsxs("div",{className:"admin-container",children:[e.jsx(v,{}),e.jsx("main",{className:"product-management",children:e.jsx("article",{children:e.jsxs("form",{onSubmit:m,children:[e.jsx("h2",{children:"Create Coupon"}),e.jsxs("div",{children:[e.jsx("label",{children:"Name"}),e.jsx("input",{type:"text",placeholder:"Coupon Code",value:o,onChange:t=>i(t.target.value)})]}),e.jsxs("div",{children:[e.jsx("label",{children:"Price"}),e.jsx("input",{type:"number",placeholder:"Amount",value:c,onChange:t=>l(Number(t.target.value))})]}),e.jsx("button",{disabled:u,type:"submit",children:"Create"})]})})})]})};export{N as default};
