import{l as x,Z as h,r as n,V as j,j as e,L as d,S as f,F as b}from"./index-BBhJg91b.js";import{A as g}from"./AdminSidebar-YKCcNd0v.js";import{T as k}from"./TableHOC-Cdp4oIjA.js";import"./index-BksrHr4J.js";const H=[{Header:"Photo",accessor:"photo"},{Header:"Name",accessor:"name"},{Header:"Price",accessor:"price"},{Header:"Stock",accessor:"stock"},{Header:"Action",accessor:"action"}],w=()=>{const{user:r}=x(s=>s.userReducer),{isLoading:i,isError:m,error:u,data:o}=h(r==null?void 0:r._id),[a,l]=n.useState([]);if(m){const s=u;j.error(s.data.message)}n.useEffect(()=>{o&&l(o.products.map(s=>{var t,c;return{photo:e.jsx("img",{src:(c=(t=s.photos)==null?void 0:t[0])==null?void 0:c.url}),name:s.name,price:s.price,stock:s.stock,action:e.jsx(d,{to:`/admin/product/${s._id}`,children:"Manage"})}}))},[o]);const p=k(H,a,"dashboard-product-box","Products",a.length>6)();return e.jsxs("div",{className:"admin-container",children:[e.jsx(g,{}),e.jsx("main",{children:i?e.jsx(f,{length:21}):p}),e.jsx(d,{to:"/admin/product/new",className:"create-product-btn",children:e.jsx(b,{})})]})};export{w as default};
