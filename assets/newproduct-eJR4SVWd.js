import{l as R,r as s,a7 as B,u as H,j as e}from"./index-CC-10JTR.js";import{L as W}from"./index-hBWeTPcp.js";import{A as I}from"./AdminSidebar-DgeFAT8R.js";import{r as U}from"./feautures-W7BkNmvr.js";import"./index-Bs-J1ZhJ.js";const V=()=>{const{user:l}=R(t=>t.userReducer),[y,u]=s.useState(!1),[i,b]=s.useState(""),[n,S]=s.useState(""),[o,C]=s.useState(0),[d,P]=s.useState(0),[p,k]=s.useState(0),[c,N]=s.useState(1),[h,q]=s.useState(""),[x,w]=s.useState(""),[g,T]=s.useState(""),[j,D]=s.useState(""),[v,z]=s.useState(""),[m,F]=s.useState(""),[f,L]=s.useState(""),[M]=B(),A=H(),a=W("multiple",20,10),E=async t=>{t.preventDefault(),u(!0);try{if(!i||!o||c<0||!n||!a.file||a.file.length===0)return;const r=new FormData;r.set("name",i),r.set("price",o.toString()),r.set("fakePrice",d.toString()),r.set("off",p.toString()),r.set("stock",c.toString()),r.set("category",n),r.set("materialType",h),r.set("size",x.toUpperCase()),r.set("description",g),r.set("color",j),r.set("pocket",v),r.set("gsm",m),r.set("genderType",f),a.file.forEach(O=>{r.append("photos",O)});const G=await M({id:l==null?void 0:l._id,formData:r});U(G,A,"/admin/product")}catch(r){console.log(r)}finally{u(!1)}};return e.jsxs("div",{className:"admin-container",children:[e.jsx(I,{}),e.jsx("main",{className:"product-management",children:e.jsx("article",{children:e.jsxs("form",{onSubmit:E,children:[e.jsx("h2",{children:"New Product"}),e.jsxs("div",{children:[e.jsx("label",{children:"Name"}),e.jsx("input",{required:!0,type:"text",placeholder:"Name",value:i,onChange:t=>b(t.target.value)})]}),e.jsxs("div",{children:[e.jsx("label",{children:"Description"}),e.jsx("textarea",{required:!0,placeholder:"Description",value:g,onChange:t=>T(t.target.value)})]}),e.jsxs("div",{children:[e.jsx("label",{children:"Price"}),e.jsx("input",{required:!0,type:"number",placeholder:"Price",value:o,onChange:t=>C(Number(t.target.value))})]}),e.jsxs("div",{children:[e.jsx("label",{children:"Fake Price"}),e.jsx("input",{required:!0,type:"number",placeholder:"Fake Price",value:d,onChange:t=>P(Number(t.target.value))})]}),e.jsxs("div",{children:[e.jsx("label",{children:"Off"}),e.jsx("input",{required:!0,type:"number",placeholder:"Off",value:p,onChange:t=>k(Number(t.target.value))})]}),e.jsxs("div",{children:[e.jsx("label",{children:"Category"}),e.jsx("input",{required:!0,type:"text",placeholder:"oversized,polo,shirt,hoodie,cap,..",value:n,onChange:t=>S(t.target.value)})]}),e.jsxs("div",{children:[e.jsx("label",{children:"Material Type"}),e.jsx("input",{required:!0,type:"text",placeholder:"eg.Cotton,Polyster,..",value:h,onChange:t=>q(t.target.value)})]}),e.jsxs("div",{children:[e.jsx("label",{children:"Available Sizes"}),e.jsx("input",{required:!0,type:"text",placeholder:"eg.L,...",value:x,onChange:t=>w(t.target.value)})]}),e.jsxs("div",{children:[e.jsx("label",{children:"Color"}),e.jsx("input",{required:!0,type:"text",placeholder:"eg.White,Black,Red,..",value:j,onChange:t=>D(t.target.value)})]}),e.jsxs("div",{children:[e.jsx("label",{children:"Which Gender"}),e.jsx("input",{required:!0,type:"text",placeholder:"eg.male or female",value:f,onChange:t=>L(t.target.value)})]}),e.jsxs("div",{children:[e.jsx("label",{children:"Pocket"}),e.jsx("input",{required:!0,type:"text",placeholder:"eg.No Pocket, Pocket",value:v,onChange:t=>z(t.target.value)})]}),e.jsxs("div",{children:[e.jsx("label",{children:"GSM"}),e.jsx("input",{required:!0,type:"text",placeholder:"eg.190,200,..",value:m,onChange:t=>F(t.target.value)})]}),e.jsxs("div",{children:[e.jsx("label",{children:"Stock"}),e.jsx("input",{required:!0,type:"number",placeholder:"Stock",value:c,onChange:t=>N(Number(t.target.value))})]}),e.jsxs("div",{children:[e.jsx("label",{children:"Photos"}),e.jsx("input",{required:!0,type:"file",multiple:!0,onChange:a.changeHandler})]}),a.error&&e.jsx("p",{children:a.error}),a.preview&&e.jsx("div",{style:{display:"flex",gap:"1rem",overflowX:"auto"},children:a.preview.map((t,r)=>e.jsx("img",{src:t,alt:"New Image",style:{width:100,height:100,objectFit:"cover"}},r))}),e.jsx("button",{disabled:y,type:"submit",children:"Create"})]})})})]})};export{V as default};
